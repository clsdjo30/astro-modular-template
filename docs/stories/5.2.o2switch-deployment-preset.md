# Story 5.2: o2switch Deployment Preset (Static UI + API, Optional SSR)

## Status
Done

## Story
**As a** solo freelancer,  
**I want** an o2switch deployment preset,  
**so that** I can host static UI plus a self-hosted JSON API on my infrastructure.

## Acceptance Criteria
1. Preset documents static UI deployment plus separate Node.js API service on o2switch.
2. API is the default for backend-enabled presets; Astro SSR/hybrid is optional.
3. Preset includes explicit Node.js version, start command, and env var configuration notes for o2switch.

## Tasks / Subtasks
- [x] Define o2switch preset scope (AC: 1, 2)
  - [x] Create preset metadata in `templates/presets/o2switch/`.
  - [x] Document default model: static Astro UI + separate JSON API service.
  - [x] Add optional note for SSR/hybrid only when explicitly enabled.
- [x] Add deployment guidance (AC: 1, 3)
  - [x] Document Node.js LTS version and `pnpm start` for API service.
  - [x] Document env var configuration for API and UI.
  - [x] Note build output paths for UI (`dist/`) and API (compiled `dist/` or `build/`).
- [x] Validate compatibility constraints (AC: 2)
  - [x] Ensure preset does not imply Astro SSR by default.

## Dev Notes
### Architecture References
- Deployment architecture: static UI + API, optional SSR. [Source: architecture/deployment-architecture.md#Backend Deployment (o2switch)]
- Env policy and CORS requirements. [Source: architecture/frontend-architecture.md#CORS + Session Cookies (o2switch)]
- Node version pinned in tech stack. [Source: architecture/tech-stack.md#Technology Stack Table]

### Dependencies
- Story 4.1 (API service skeleton).
- Story 5.1 (static hosting baseline).

### Scope Boundaries (v1)
- No platform-specific automation beyond documentation.
- No SSR/hybrid unless explicitly enabled.

### File Locations
- Preset metadata: `templates/presets/o2switch/`
- Docs: `docs/`

## Testing
Relevant standards from architecture:
- Documentation-only changes; no automated tests required.
Manual verification:
- Confirm docs specify Node version, start command, env vars, and paths.

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2026-01-18 | v0.1 | Drafted Story 5.2 | Bob (SM) |

## Dev Agent Record
### Agent Model Used
GPT-5

### Debug Log References


### Completion Notes List
- Added o2switch preset metadata and deployment guidance.
- Documentation-only change; no automated tests run.

### File List
- templates/presets/o2switch/preset.yaml
- docs/O2SWITCH-DEPLOYMENT.md

## QA Results
