# Story 1.4: Minimal Config & Env Wrapper

## Status
Done

## Story
**As a** solo freelancer,  
**I want** a typed config and env wrapper in the base template,  
**so that** configuration is centralized and safe.

## Acceptance Criteria
1. Base template includes `app.config.ts` with a typed structure.
2. Environment access is routed through a single wrapper module (`env.ts`).
3. No direct `process.env` or `import.meta.env` usage outside the wrapper.

## Non-Goals
- No runtime validation (compile-time typing only).
- No external dependencies for config/env handling.
- No environment-specific branching yet.

## Tasks / Subtasks
- [x] Create config module in base template (AC: 1, 2)
  - [x] Add `templates/base/src/config/app.config.ts` with typed config shape.
  - [x] Add `templates/base/src/config/env.ts` to read `import.meta.env` and expose typed values.
- [x] Wire usage of config in base template (AC: 1, 3)
  - [x] Ensure any env usage in base template uses the wrapper only.
  - [x] Add an example usage if needed (e.g., site title).
- [x] Add minimal type checks (AC: 1, 2)
  - [x] Ensure TypeScript compiles with the config types.

## Dev Notes
### Architecture References
- Config location and structure: `src/config/app.config.ts` and `src/config/env.ts`. [Source: architecture/frontend-architecture.md#Component Architecture]
- Config access rule: environment variables are accessed only via config/env wrappers. [Source: architecture/coding-standards.md#Critical Fullstack Rules]

### File Locations
- Base template config files live in `templates/base/src/config/`. [Source: architecture/frontend-architecture.md#Component Architecture]

## Testing
Relevant standards from architecture:
- Use Vitest 2.0.0; tests optional for template helpers. [Source: architecture/tech-stack.md#Technology Stack Table]
- Template tests are optional; ensure typecheck passes. [Source: architecture/testing-strategy.md#Testing Strategy]

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2026-01-18 | v0.1 | Drafted Story 1.4 | Bob (SM) |

## Dev Agent Record
### Agent Model Used
GPT-5

### Debug Log References
- No runtime validation added; compile-time only.

### Completion Notes List
- Added typed env wrapper and app config in base template.
- Wired site name usage via config in layout and header.
- Updated `env.d.ts` to declare `PUBLIC_SITE_NAME`.

### File List
- templates/base/src/config/env.ts
- templates/base/src/config/app.config.ts
- templates/base/src/env.d.ts
- templates/base/src/layouts/BaseLayout.astro
- templates/base/src/components/layout/Header.astro

## QA Results
