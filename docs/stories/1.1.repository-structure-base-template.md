# Story 1.1: Repository Structure & Base Template

## Status
Done

## Story
**As a** solo freelancer,  
**I want** a base Astro + TypeScript template with a minimal, clean structure,  
**so that** every generated project starts from a predictable foundation.

## Acceptance Criteria
1. Repo contains a minimal Astro 5 + TypeScript template that builds successfully on first run.
2. Toolchain pinned and verifiable:
   - `package.json` includes `"packageManager": "pnpm@10.0.0"`.
   - `package.json` includes `"engines": { "node": "22.19.0" }`.
   - Dependencies for Astro/TypeScript/ESLint/Prettier/Vitest are pinned with no loose majors (no `^` on the major).
   - `pnpm-lock.yaml` exists and is committed.
3. First-run verification (clean clone): `pnpm install && pnpm lint && pnpm typecheck && pnpm test && pnpm build` all succeed.
4. Minimal site pages exist (home + 404) and the build output is static-ready.
5. Basic project docs exist: README with setup, scripts, and pinned versions.

## Non-Goals
- No CLI commands (create/add/remove) in Story 1.1.
- No module system yet.
- No presets beyond the base template.
- No deployment automation yet.

## Definition of Done
- All acceptance criteria are met using a CI-like local run.
- Repository structure is aligned with the architecture and committed.
- Configs committed; no TODOs that block Story 1.2+.

## Repository Structure
- Generator/tooling repo top level: `packages/`, `templates/`, `docs/`, `examples/` [Source: architecture/unified-project-structure.md#Unified Project Structure]
- Base template structure (in `templates/base/`): `src/components/`, `src/pages/`, `src/services/`, `src/scripts/`, `src/config/` [Source: architecture/frontend-architecture.md#Component Architecture]

## Tasks / Subtasks
- [ ] Scaffold base template folders and minimal pages (AC: 1, 4)
  - [ ] Create `templates/base/src/pages/index.astro` and `templates/base/src/pages/404.astro` with a neutral layout shell.
  - [ ] Ensure no JS framework is required by default.
- [ ] Configure toolchain pinning and scripts (AC: 2, 3)
  - [ ] Set `packageManager` and `engines.node` in base template `package.json`.
  - [ ] Pin Astro/TypeScript/ESLint/Prettier/Vitest versions without loose major ranges.
  - [ ] Add scripts: `lint`, `typecheck`, `test`, `build`, and `astro check` (if used).
  - [ ] Generate and commit `pnpm-lock.yaml`.
- [ ] Add minimal config files (AC: 3)
  - [ ] ESLint + Prettier config aligned with pinned versions.
  - [ ] TypeScript config and Astro config for static build.
- [ ] Add README (AC: 5)
  - [ ] Include setup, scripts, and pinned versions.
- [ ] Verify first-run command sequence (AC: 3)
  - [ ] Run the full command chain locally and confirm success.
- [ ] Add placeholder test if needed (AC: 3)
  - [ ] Ensure `pnpm test` runs and exits cleanly.

## Dev Notes
### Architecture References
- Toolchain versions and package manager: pnpm 10.0.0, Node 22.19.0, Astro 5.0.0, TypeScript 5.6.0, ESLint 9.0.0, Prettier 3.3.0, Vitest 2.0.0. Tailwind optional but not enabled in this story. [Source: architecture/tech-stack.md#Technology Stack Table]
- Generator repo structure: `packages/`, `templates/`, `docs/`, `examples/` [Source: architecture/unified-project-structure.md#Unified Project Structure]
- Base template component/page structure (for `templates/base/`): `src/components/`, `src/pages/`, `src/services/`, `src/scripts/`, `src/config/` [Source: architecture/frontend-architecture.md#Component Architecture]
- Coding standards: avoid cross-module imports, pin versions, no framework by default. [Source: architecture/coding-standards.md#Critical Fullstack Rules]
- Testing strategy: unit + integration overall; template tests optional; CLI tests not in scope for this story. [Source: architecture/testing-strategy.md#Testing Strategy]

### File Locations
- Base template lives in `templates/base/` (Astro app scaffold). [Source: architecture/unified-project-structure.md#Unified Project Structure]
- No specific guidance found in architecture docs for `source-tree.md` (file not present).

## Testing
Relevant standards from architecture:
- Testing pyramid is unit + integration; e2e optional. [Source: architecture/testing-strategy.md#Testing Strategy]
- Template tests are optional; for this story, ensure `pnpm test` runs (placeholder ok). [Source: architecture/testing-strategy.md#Test Organization]
- CLI integration tests are not part of Story 1.1. [Source: architecture/testing-strategy.md#Must-Have CLI Integration Tests]

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2026-01-18 | v0.1 | Drafted Story 1.1 | Bob (SM) |

## Dev Agent Record
### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results
